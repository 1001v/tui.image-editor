tui.util.defineNamespace("fedoc.content", {});
fedoc.content["component_imageLoader.js.html"] = "      <div id=\"main\" class=\"main\">\n\n\n\n    \n    <section>\n        <article>\n            <pre class=\"prettyprint source linenums\"><code>/**\n * @author NHN Ent. FE Development Team &lt;dl_javascript@nhnent.com>\n * @fileoverview Image loader\n */\n'use strict';\n\nvar Component = require('../interface/component');\nvar consts = require('../consts');\n\nvar imageOption = {\n    padding: 0,\n    crossOrigin: 'anonymous'\n};\n\n/**\n * ImageLoader components\n * @extends {Component}\n * @class ImageLoader\n * @param {Component} parent - parent component\n */\nvar ImageLoader = tui.util.defineClass(Component, /** @lends ImageLoader.prototype */{\n    init: function(parent) {\n        this.setParent(parent);\n    },\n\n    /**\n     * Component name\n     * @type {string}\n     */\n    name: consts.componentNames.IMAGE_LOADER,\n\n    /**\n     * Load image from url\n     * @param {?string} imageName - File name\n     * @param {?(fabric.Image|string)} img - fabric.Image instance or URL of an image\n     * @returns {jQuery.Deferred} deferred\n     */\n    load: function(imageName, img) {\n        var self = this;\n        var jqDefer, canvas;\n\n        if (!imageName &amp;&amp; !img) { // Back to the initial state, not error.\n            canvas = this.getCanvas();\n            canvas.backgroundImage = null;\n            canvas.renderAll();\n\n            jqDefer = $.Deferred(function() {\n                self.setCanvasImage('', null);\n            }).resolve();\n        } else {\n            jqDefer = this._setBackgroundImage(img).done(function(oImage) {\n                self.setCanvasImage(imageName, oImage);\n                self.adjustCanvasDimension();\n            });\n        }\n\n        return jqDefer;\n    },\n\n    /**\n     * Set background image\n     * @param {?(fabric.Image|String)} img fabric.Image instance or URL of an image to set background to\n     * @returns {$.Deferred} deferred\n     * @private\n     */\n    _setBackgroundImage: function(img) {\n        var jqDefer = $.Deferred();\n        var canvas;\n\n        if (!img) {\n            return jqDefer.reject();\n        }\n\n        canvas = this.getCanvas();\n        canvas.setBackgroundImage(img, function() {\n            var oImage = canvas.backgroundImage;\n\n            if (oImage.getElement()) {\n                jqDefer.resolve(oImage);\n            } else {\n                jqDefer.reject();\n            }\n        }, imageOption);\n\n        return jqDefer;\n    }\n});\n\nmodule.exports = ImageLoader;\n</code></pre>\n        </article>\n    </section>\n\n\n\n</div>\n\n"